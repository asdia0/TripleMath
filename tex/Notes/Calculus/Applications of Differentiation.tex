\chapter{Applications of Differentiation}

\section{Monotonicity}

\begin{definition}
    Let $f$ be a function, and let $I \subseteq \dom f$ be an interval. Let $x_1$ and $x_2$ be distinct elements in $I$.
    \begin{itemize}
        \item $f$ is \vocab{strictly increasing} if $x_1 < x_2 \implies f(x_1) < f(x_2)$.
        \item $f$ is \vocab{strictly decreasing} if  $x_1 < x_2 \implies f(x_1) > f(x_2)$
    \end{itemize}
\end{definition}

\begin{proposition}[Sign of $f'(x)$ Describes Monotonicity]
    If $f'(x) > 0$ for all $x \in I$, then $f$ is strictly increasing on $I$. Similarly, if $f'(x) < 0$ for all $x \in I$, then $f$ is strictly decreasing on $I$.
\end{proposition}
\begin{proof}
    Suppose $f'(x) > 0$ for all $x \in I$. By the Mean Value Theorem, there exists some $c \in I$ such that \[f'(c) = \frac{f(x_2) - f(x_1)}{x_2 - x_1}.\] Since $f'(c) > 0$ and $x_1 < x_2$, it follows that $f(x_1) < f(x_2)$, whence $f$ is strictly increasing. The proof of the second statement is similar.
\end{proof}

Note that the converse of the above results is not true. Consider the function $f(x) = x^{1/3}$. Clearly, $f(x)$ is increasing on $\RR$, yet $f'(x) = x^{-2/3}/3$ is undefined at $x = 0$.

\section{Concavity}

\begin{definition}
    Let $f$ be a function, and let $I \subseteq \dom f$ be an interval. 
    \begin{itemize}
        \item $f$ is \vocab{concave upwards} on $I$ if the gradient of $f$ increases as $x$ increases.
        \item $f$ is \vocab{concave downwards} on $I$ if the gradient of $f$ decreases as $x$ increases.
    \end{itemize}
\end{definition}

Geometrically, $f$ is concave upwards if the graph of $y = f(x)$, $x \in I$ lies above its tangents. Likewise, $f$ is concave downwards if the graph lies below its tangents.

\begin{proposition}[Sign of $f''(x)$ Describes Concavity]
    If $f''(x) > 0$ for all $x \in I$, then $f$ is concave upwards on $I$. Similarly, if $f''(x) < 0$ for all $x \in I$, then $f$ is concave downwards on $I$. 
\end{proposition}
\begin{proof}
    Suppose $f''(x) > 0$ for all $x \in I$. Then $f'$ is increasing on $I$. The gradient of $f$ hence increases as $x$ increases, whence $f$ is concave upwards. The proof of the second statement is similar.
\end{proof}

\section{Stationary Point}

\begin{definition}
    A \vocab{stationary point} on a curve $y = f(x)$ is a point where $f'(x) = 0$.
\end{definition}

\begin{figure}[H]\tikzsetnextfilename{362}
    \centering
    \begin{tikzpicture}[trim axis left, trim axis right]
        \begin{axis}[
            domain = -2.1:2.1,
            samples = 101,
            ymax = 2.2,
            ymin = -2.2,
            axis y line=middle,
            axis x line=middle,
            xtick = \empty,
            ytick = \empty,
            xlabel = {$x$},
            ylabel = {$y$},
            legend cell align={left},
            legend pos=outer north east,
            after end axis/.code={
                \path (axis cs:0,0) 
                    node [anchor=north east] {$O$};
                }
            ]
            \addplot[black] {0.3 * (x^5 - 4*x^3)};

            \coordinate[label=above:$A$] (A) at (-1.55, 1.78);
            \coordinate[label=below:$B$] (B) at (1.55, -1.78);
            \coordinate[label=above right:$C$] (C) at (0, 0);
            \coordinate[label=above right:$D$] (D) at (-0.99, 0.89);
            \coordinate[label=below left:$E$] (E) at (0.99, -0.89);

            \fill (A) circle[radius=2.5pt];
            \fill (B) circle[radius=2.5pt];
            \fill (C) circle[radius=2.5pt];
            \fill (D) circle[radius=2.5pt];
            \fill (E) circle[radius=2.5pt];
        \end{axis}
    \end{tikzpicture}
    \caption{Types of stationary points.}
\end{figure}

There are two types of stationary points:
\begin{itemize}
    \item turning points: maximum points ($A$) and minimum points ($B$)
    \item stationary points of inflexion: $C$
\end{itemize}

\begin{definition}
    A \vocab{point of inflexion} is a point on the curve at which the curve crosses its tangent and the concavity of the curve changes from up to down or vice versa.
\end{definition}

Note that a point of inflexion is not necessarily stationary; points $D$ and $E$ in the above figure are \vocab{non-stationary points of inflexion}. 

\subsection{Turning Points}

In the neighbourhood of turning points, the gradient of the curve, $f'(x)$, changes sign.

\subsubsection{Maximum Points}

In the neighbourhood of a maximum turning point $A$, the gradient $f'(x)$ decreases from positive values, through zero at $A$, to negative values. The $y$-coordinate of $A$ is known as the \vocab{maximum value} of $y$.

\subsubsection{Minimum Points}

In the neighbourhood of a minimum turning point $B$, the gradient $f'(x)$ increases from negative values, through zero at $B$, to positive values. The $y$-coordinate of $B$ is known as the \vocab{minimum value} of $y$.

\subsection{Stationary Points of inflexion}

In the neighbourhood of a stationary point of inflexion, the gradient of the curve, $f'(x)$ does not change sign.

\subsection{Methods to Determine the Nature of Stationary Points}

Suppose $y = f(x)$ has stationary point at $x = a$.

\begin{recipe}[First Derivative Test]
    Check the signs of $f'(x)$ when $x \to a^-$ and $x \to a^+$.
    \begin{table}[H]
        \centering
        \begin{tabular}{|c|ccc|ccc|ccc|}
            \hline
            $x$ & $a^-$ & $a$ & $a^+$ & $a^-$ & $a$ & $a^+$ & \hspace{1.5em} $a^-$ & \hspace{1em} $a$ & $a^+$ \\ \hline
            \multirow{2}{*}{$f'(x)$} & \multirow{2}{*}{+ve} & \multirow{2}{*}{0} & \multirow{2}{*}{$-$ve} & \multirow{2}{*}{$-$ve} & \multirow{2}{*}{0} & \multirow{2}{*}{+ve} & \hspace{1.5em} +ve & \hspace{1em} 0 & +ve \\ 
             & & & & & & & \hspace{1.5em} $-$ve & \hspace{1em} 0 & $-$ve \\ \hline
            Nature & \multicolumn{3}{c|}{Maximum point} & \multicolumn{3}{c|}{Minimum point} & \multicolumn{3}{c|}{Stationary point of inflexion}\\ \hline
        \end{tabular}
      \end{table}
\end{recipe}

\begin{example}[First Derivative Test]
    Let $f(x) = x^2$. Note that $f'(x) = 2x$. Solving for $f'(x) = 0$, we see that $x = 0$ is a stationary point. Checking the signs of $y'$ as $x \to 0^-$ and $x \to 0^+$,
    \begin{table}[H]
        \centering
        \begin{tabular}{|c|c|c|c|}
        \hline
        $x$ & $0^-$ & $0$ & $0^+$ \\ \hline
        $f'(x)$ & $-$ve & 0 & +ve \\ \hline
        \end{tabular}
    \end{table}
    Thus, by the first derivative test, the stationary point at $x = 0$ is a minimum point.
\end{example}

\begin{recipe}[Second Derivative Test]
    Check the sign of $f''(a)$.
    \begin{itemize}
        \item If $f''(a) < 0$, then the stationary point is a maximum.
        \item If $f''(a) > 0$, then the stationary point is a minimum.
        \item If $f''(a) = 0$, the test is inconclusive.
    \end{itemize}
\end{recipe}
\begin{proof}
    At $x = a$, the function $f(x)$ is given by the Taylor series \[f(x) = \sum_{n = 0}^\infty \frac{f^{(n)}(a)}{n!} (x-a)^n = f(a) + f'(a) (x-a) + \frac{f''(a)}{2} (x-a)^2 + \cdots.\] When $x$ is arbitrarily close to $a$, the terms $(x-a)^3$, $(x-a)^4$, $\dots$ become negligibly small, whence $f(x)$ is well-approximated by \[f(x) \approx f(a) + f'(a) (x-a) + \frac{f''(a)}{2} (x-a)^2.\] Since $x = a$ is a stationary point, $f'(a) = 0$, whence \[f(x) \approx f(a) + \frac{f''(a)}{2} (x-a)^2.\] Now observe that $\frac12 (x-a)^2$ is non-negative. Hence, the sign of $\frac{f''(a)}{2} (x-a)^2$ depends solely on the sign of $f''(a)$: if $f''(a)$ is positive, the entire term is positive and \[f(x) \approx f(a) + \frac{f''(a)}{2} (x-a)^2 > f(a),\] whence $f(a)$ is a minimum (since $f(a) < f(x)$ for all $x$ in the neighbourhood of $a$). Similarly, if $f''(a)$ is negative, the entire term is negative and \[f(x) \approx f(a) + \frac{f''(a)}{2} (x-a)^2 < f(a),\] whence $f(a)$ is a maximum. If $f''(a)$ is zero, we cannot say anything about $f(x)$ around $f(a)$ and the test is inconclusive.
\end{proof}

\begin{example}[Second Derivative Test]
    Let $f(x) = x^2$. From the previous example, we know that $x = 0$ is a stationary point. Since $f''(0) = 2 > 0$, by the second derivative test, it must be a minimum point.
\end{example}

\section{Graph of $y = f'(x)$}

The table below shows the relationships between the graphs of $y = f(x)$ and $y = f'(x)$.

\begin{table}[H]
    \centering
    \begin{tabularx}{\textwidth}{|l|>{\centering\arraybackslash}X|>{\centering\arraybackslash}X|}
        \hline
         & Graph of $y = f(x)$ & Graph of $y = f'(x)$ \\ \hline
        1a & vertical asymptote $x = a$ & vertical asymptote $x = a$ \\ \hline
        1b & horizontal asymptote $y = b$ & horizontal asymptote $y = 0$ \\ \hline
        1c & oblique asymptote $y = mx + c$ & horizontal asymptote $y = b$ \\ \hline
        2 & stationary point at $x = a$ & $x= a$ is the $x$-intercept \\ \hline
        3a & $f$ is strictly increasing & curve above the $x$-axis \\ \hline
        3b & $f$ is strictly decreasing & curve below the $y$-axis \\ \hline 
        4a & $f$ is concave upward & curve is increasing \\ \hline
        4b & $f$ is concave downward & curve is decreasing \\ \hline
        5 & point of inflexion at $x = a$ & maximum or minimum point at $x = a$ \\ \hline
    \end{tabularx}
\end{table}

For most cases, we can deduce the graph of $y = f'(x)$ by using points (1) to (3) only. Points (4) and (5) are usually for checking.

\section{Tangents and Normals}

Let $P(k, f(k))$ be a point on the graph of $y = f(x)$.

\begin{figure}[H]\tikzsetnextfilename{363}
    \centering
    \begin{tikzpicture}[trim axis left, trim axis right]
        \begin{axis}[
            domain = 0:7,
            ymin = 0,
            ymax = 20,
            samples = 101,
            axis y line=middle,
            axis x line=middle,
            xtick = \empty,
            ytick = \empty,
            xlabel = {$x$},
            ylabel = {$y$},
            legend cell align={left},
            legend pos=outer north east,
            after end axis/.code={
                \path (axis cs:0,0) 
                    node [anchor=north east] {$O$};
                }
            ]
            \addplot[plotRed] {4*(x - 3) + 8};
            \addlegendentry{tangent};
            \addplot[plotBlue] {-2 * (x - 3) + 8};
            \addlegendentry{normal};

            \addplot[black] {(x-1)^2 + 4};

            \node[anchor=west] at (3, 8) {$P$};
            \fill (3, 8) circle[radius=2.5pt];
        \end{axis}
    \end{tikzpicture}
    \caption{}
\end{figure}

The gradient of the tangent to the curve at $P$ is $f'(k)$, while the gradient of the normal to the curve at $P$ is $-1/f'(k)$. This follows from the fact that the tangent and the normal are perpendicular, hence the product of their gradients is $-1$.

\section{Optimization Problem}

Many real-life situations require that some quantity be minimized (e.g. cost of manufacture) or maximized (e.g. profit on sales). We can use differentiation to solve many of these problems.

\begin{recipe}
    Suppose we have a dependent variable $y$ that we wish to maximize. We first express $y$ in terms of a single indepdent variable, say $x$. We then differentiate $y$ with respect to $x$ and solve for stationary points. Lastly, we determine the nature of the stationary points to obtain the maximum point.
\end{recipe}

\begin{example}
    Suppose we wish to enclose the largest rectangular area with only 20 metres of fence. Let $x$ m and $y$ m be the length and width of the rectangular area. The perimeter of the rectangular area is \[2(x + y) = 20 \implies y = 10 - x.\] We can hence express the area of the rectangular area $A$ solely in terms of $x$: \[A = xy = x(10 - x) = -x^2 + 10x.\] Differentiating $A$ with respect to $x$, we see that \[\derx{A}{x} = -2x + 10.\] There is hence a stationary point at $x = 5$. By the second derivative test, this is a maximum point. Thus, $x = y = 5$ gives the largest rectangular area.
\end{example}

\section{Connected Rates of Change}

$\derx{y}{x}$ measures the instantaneous rate of change of $y$ with respect to $x$. If $t$ represents time, then $\derx{y}{t}$ represents the rate of change of the variable $y$ with respect to time $t$. At the same instant, the rates of change can be connected using the chain rule: \[\der{y}{t} = \der{y}{x} \der{x}{t}.\]

\begin{example}
    \phantom{.}

    \textbf{Q:} An oil spill spreads on the surface of the ocean, forming a circular shape. The radius of the oil spill $r$ is increasing at a rate of $\derx{r}{t} = 0.5$ m/min. At what rate is the area of the oil spill increasing when the radius is 10 m?

    \textbf{A:} Let $A$ be the area of the oil spill. Note that $A = \pi r^2$. Differentiating with respect to $r$, we get $\derx{A}{r} = 2\pi r$. Hence, by the chain rule, \[\der{A}{t} = \der{A}{r} \der{r}{t} = (2\pi r) (0.5) = \pi r.\] Thus, when the radius is 10 m, the area of the oil spill is increasing at a rate of $10\pi$ m/min.
\end{example}