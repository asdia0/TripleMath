\chapter{Three-Dimensional Vector Geometry}

\section{Lines}

\subsection{Equation of a Line}

\begin{definition}
    The \vocab{vector equation} of the line $l$ passing through point $A$ with position vector $\vec a$ and parallel to $\vec b$ is given by $\vec r = \vec a + \l \vec b$, where $\vec r$ is the position vector of any point on the line, and $\l \in \RR$ is a real, scalar parameter. The vector $\vec b$ is also called the \vocab{direction vector} of the line.
\end{definition}

Note that $\vec a$ can be any position vector on the line and $\vec b$ can be any vector parallel to the line. Hence, the vector equation of a line is not unique.

\begin{definition}
    Let $l : \vec r = \vec a + \l \vec b$, $\l \in \RR$. By writing $\vec r = \cveciiix{x}{y}{z}$, $\vec a = \cveciiix{a_1}{a_2}{a_3}$ and $\vec b = \cveciiix{b_1}{b_2}{b_3}$, we have $x = a_1 + \l b_1$, $y = a_2 + \l b_2$ and $z = a_3 + \l b_3$. These three equations are known as the \vocab{parametric equations} of the line $l$.
\end{definition}

\begin{definition}
    By making $\l$ the subject in the parametric equations of the line $l$, we have \[\l = \frac{x-a_1}{b_1} = \frac{y - a_2}{b_2} = \frac{z - a_3}{b_3}.\] This equation is known as the \vocab{Cartesian equation} of the line $l$.
\end{definition}

If $b_1 = 0$, we simply have $x = a_1$. A similar result arises when $b_2 = 0$ or $b_3 = 0$.

\subsection{Point and Line}

\begin{proposition}[Perpendicular Distance between Point and Line]
    Let $C$ be a point not on the line $l$ with vector equation $\vec r = \vec a + \l \vec b$, $\l \in \RR$. Let $F$ be the foot of perpendicular from $C$ to $l$. Then $CF = \abs{\oa{AC} \crossp \hat{\vec b}}$.
\end{proposition}
\begin{proof}
    Trivial (recall the application of the vector product in finding side lengths of right-angled triangles).
\end{proof}

\begin{recipe}[Finding Foot of Perpendicular from Point to Line]
    Let $F$ be the foot of perpendicular from $C$ to the line $l$ with vector equation $\vec r = \vec a + \l \vec b$, $\l \in \RR$. To find $\oa{OF}$, we use the fact that
    \begin{itemize}
        \item $F$ lies on $l$, i.e. $\oa{OF} = \vec a + \l \vec b$ for some $\l \in \RR$.
        \item $\oa{CF}$ is perpendicular to $l$, i.e. $\oa{CF} \dotp \vec b = 0$.
    \end{itemize}
\end{recipe}

\subsection{Two Lines}

\begin{definition}
    The relationship between two lines in 3-D space can be classified as follows:
    \begin{itemize}
        \item \vocab{Parallel lines}: The lines are parallel and non-intersecting;
        \item \vocab{Intersecting lines}: The lines are non-parallel and intersecting;
        \item \vocab{Skew lines}: The lines are non-parallel and non-intersecting.
    \end{itemize}
\end{definition}

Parallel and intersecting lines are coplanar, while skew lines are non-coplanar.

\begin{recipe}[Relationship between Two Lines]
    Consider two distinct lines $l_1$ and $l_2$ with vector equations $\vec r = \vec a + \l \vec b$ and $\vec r = \vec c + \m \vec d$ respectively, where $\l, \m \in \RR$.
    \begin{itemize}
        \item $l_1$ and $l_2$ are parallel lines if their direction vectors are parallel, i.e. if $\vec b = \vec d$.
        \item $l_1$ and $l_2$ are intersecting lines if there is a unique solution to $\vec a + \l \vec b = \vec c + \m \vec d$.
        \item $l_2$ and $l_2$ are skew lines if their direction vectors are not parallel and there are no solutions to $\vec a + \l \vec b = \vec c + \m \vec d$.
    \end{itemize}
\end{recipe}

\begin{proposition}[Acute Angle between Two Lines]
    Let the acute angle between two lines with direction vectors $\vec b_1$ and $\vec b_2$ be $\t$. Then \[\cos\t = \frac{\abs{\vec b_1 \dotp \vec b_2}}{\abs{\vec b_1} \abs{\vec b_2}}.\]
\end{proposition}
\begin{proof}
    Observe that we are essentially finding the angle between the direction vectors of the two lines, which is given by \[\cos\t = \frac{\vec b_1 \dotp \vec b_2}{\abs{\vec b_1} \abs{\vec b_2}}.\] To ensure that $\t$ is acute (i.e. $\cos \t \geq 0$), we introduce a modulus sign in the numerator. Hence, \[\cos\t = \frac{\abs{\vec b_1 \dotp \vec b_2}}{\abs{\vec b_1} \abs{\vec b_2}}.\]
\end{proof}

\section{Planes}

\subsection{Equation of a Plane}

\begin{definition}
    Suppose the plane $\pi$ passes through a fixed point $A$ with position vector $\vec a$, and $\pi$ is parallel to two vectors $\vec b_1$ and $\vec b_2$, where $\vec b_1$ and $\vec b_2$ are not parallel to each other. Then the vector equation (in \vocab{parametric form}) of $\pi$ is given by $\vec r = \vec a + \l \vec b_1 + \m \vec b_2$, where $\vec r$ is the position vector of any point $P$ on $\pi$, and $\l, \m \in \RR$ are real parameters.
\end{definition}

\begin{definition}
    Suppose the plane $\pi$ passes through a fixed point $A$ with position vector $\vec a$, and $\pi$ has normal vector $\vec n$. Let $P$ be an arbitrary point on $\pi$. Then $\oa{AP}$ is perpendicular to the normal vector $\vec n$, i.e. $\oa{AP} \dotp \vec n = 0$. Since $\oa{AP} = \vec r - \vec a$, by the distributivity of the scalar product, one has $\vec r \dotp \vec n = \vec a \dotp \vec n.$ This is the \vocab{scalar product form} of the vector equation of $\pi$, which is more commonly written as $\vec r \dotp \vec n = d$.
\end{definition}

\begin{definition}
    Let the plane $\pi$ have scalar product form $\vec r \dotp \vec n = \vec a \dotp \vec n$. Let $\vec r = \cveciiix{x}{y}{z}$, $\vec a = \cveciiix{a_1}{a_2}{a_3}$ and $\vec n = \cveciiix{n_1}{n_2}{n_3}$. Then $n_1 x + n_2 y + n_3 z = a_1 n_1 + a_2 n_2 + a_3 n_3$ is the \vocab{Cartesian equation} of $\pi$, which is more commonly written as $n_1 x + n_2 y + n_3 z = d$.
\end{definition}

In most cases, the scalar product form of a plane is preferred over the parametric or Cartesian form. It is thus important to know how to convert between the three forms.

\begin{recipe}[Converting between Forms]
    \phantom{.}
    \begin{itemize}
        \item To convert from parametric to scalar product form, take $\vec n$ to be a scalar multiple of $\vec b_1 \crossp \vec b_2$.
        \item To convert from Cartesian to parametric form, express $x$ in terms of $y$ and $z$, then replace $y$ and $z$ with parameters $\l$ and $\m$ respectively.
    \end{itemize}
\end{recipe}

\begin{example}[Parametric to Scalar Product Form]
    Let the plane $\pi$ have parametric form $\vec r = \cveciiix123 + \l \cveciiix456 + \m \cveciiix789$. Then the normal vector to $\pi$ is given by \[\vec n = \cveciii456 \crossp \cveciii789 = \cveciii{-3}{6}{-3} \parallel \cveciii{1}{-2}{1}.\] Hence, \[d = \cveciii123 \dotp \cveciii1{-2}1 = 0,\] whence $\pi$ has scalar product form \[\vec r \dotp \cveciii1{-2}1 = 0.\]
\end{example}

\begin{example}[Cartesian to Parametric Form]
    Let the plane $\pi$ have Cartesian equation $x + y + z = 10$. Solving for $x$ and replacing $y$ and $z$ with $\l$ and $\m$ respectively, we get $x = 10 - \l - \m$, $y = \l$, and $z = \m$. Hence, $\pi$ has parametric form \[\vec r = \cveciii{x}{y}{z} = \cveciii{10 - \l - \m}{\l}{\m} = \cveciii{10}00 + \l \cveciii{-1}{1}{0} + \m \cveciii{-1}0{1}, \quad \l, \m \in \RR.\]
\end{example}

\subsection{Point and Plane}

\begin{proposition}[Perpendicular Distance between Point and Plane]
    Let $F$ be the foot of perpendicular from a point $Q$ to the plane $\pi$ with vector equation $\pi : \vec r \dotp \vec n = d$. Let $A$ be a point on $\pi$. Then $QF$, the perpendicular distance from $Q$ to $\pi$, is given by \[QF = \abs{\oa{QA} \dotp \hat{\vec n}} = \frac{\abs{d - \vec q \dotp \vec n}}{\abs{\vec n}}.\]
\end{proposition}
\begin{proof}
    Since $QF$ is the length of projection of $\oa{QA}$ onto the normal vector $\vec n$, we have \[QF = \abs{\oa{QA} \dotp \hat{\vec n}} = \frac{\abs{\oa{QA} \dotp \vec n}}{\abs{\vec n}} = \frac{\abs{\oa{OA} \dotp \vec n - \oa{OQ} \dotp \vec n}}{\abs{\vec n}} = \frac{\abs{d - \vec q \dotp \vec n}}{\abs{\vec n}}.\]
\end{proof}

\begin{corollary}
    The perpendicular distance from the plane $\pi$ to the origin is $\abs{d}/\abs{\vec n}$.
\end{corollary}

\begin{recipe}[Foot of Perpendicular from Point to Plane]
    Let $F$ be the foot of perpendicular from a point $Q$ to the plane $\pi$ with vector equation $\pi : \vec r \dotp \vec n = d$. To find the position vector $\oa{OF}$, we use the fact that
    \begin{itemize}
        \item $QF$ is perpendicular to $\pi$, i.e. $\oa{QF} = \l \vec n$ for some $\l \in \RR$, and
        \item $F$ lies on $\pi$, i.e. $\oa{OF} \dotp \vec n = d$.
    \end{itemize}
\end{recipe}

\begin{sample}[Foot of Perpendicular from Point to Plane]
    The plane $\pi$ has equation $\vec r \dotp \cveciiix123 = 10$. Let $F$ be the foot of perpendicular from $Q(4, 5, 6)$ to $\pi$. Find $\oa{OF}$.
\end{sample}
\begin{sampans}
    Since $QF$ is perpendicular to $\pi$, we have $\oa{QF} = \l \cveciiix123$ for some $\l \in \RR$. Hence, \[\oa{OF} = \oa{OQ} + \oa{QF} = \cveciii456 + \l\cveciii123.\] Taking the scalar product with $\cveciiix123$ on both sides, we get \[10 = \oa{OF} \dotp \cveciii123 = \bs{\cveciii456 + \l\cveciii123} \dotp \cveciii123 = 32 + 14\l.\] Thus, $\l = -11/7$, whence \[\oa{OF} = \cveciii456 - \frac{11}{7}\cveciii123 = \frac17 \cveciii{17}{13}{9}.\]
\end{sampans}

\subsection{Line and Plane}

\begin{fact}[Relationship between Line and Plane]
    Given a line $l$ and a plane $\pi$ with equations $\vec r = \vec a + \l \vec b$, $\l \in \RR$, and $\vec r \dotp \vec n = d$ respectively, there are three possible scenarios:
    \begin{itemize}
        \item \bd{$l$ and $\pi$ do not intersect.} $l$ and $\pi$ are parallel and have no common point.
        \item \bd{$l$ lies on $\pi$.} $l$ and $\pi$ are parallel and any point on $l$ is also a point on $\pi$.
        \item \bd{$l$ and $\pi$ intersect once.} $l$ and $\pi$ are not parallel.
    \end{itemize}
\end{fact}

There are two methods to determine the relationship between a line and a plane.

\begin{recipe}[Using Normal Vector]
    \phantom{.}
    \begin{itemize}
        \item If $l$ and $\pi$ do not intersect, then $\vec b \dotp \vec n = 0$ and $\vec a \dotp \vec n \neq d$.
        \item If $l$ lies on $\pi$, then $\vec b \dotp \vec n = 0$ and $\vec a \dotp \vec n =  d$.
        \item If $l$ and $\pi$ intersect once, then $\vec b \dotp \vec n \neq 0$.
    \end{itemize}
\end{recipe}

\begin{recipe}[Solving Simultaneous Equations]
    Solve $\vec r = \vec a + \l \vec b$, $\l \in \RR$ and $\vec r \dotp \vec n = d$ simultaneously.
    \begin{itemize}
        \item If there are no solutions, then $l$ and $\pi$ do not intersect.
        \item If there are infinitely many solutions, then $l$ lies on $\pi$.
        \item If there is a unique solution, then $l$ and $\pi$ intersect once.
    \end{itemize}
\end{recipe}

\begin{proposition}[Acute Angle between Line and Plane]
    Let $\t$ be the acute angle between the line $l$ and plane $\pi$ with equations $\vec r = \vec a + \l \vec b$, $\l \in \RR$ and $\vec r \dotp \vec n = d$ respectively. Then \[\sin \t = \frac{\abs{\vec b \dotp \vec n}}{\abs{\vec b} \abs{\vec n}}.\]
\end{proposition}
\begin{figure}[H]\tikzsetnextfilename{546}
    \centering
    \begin{tikzpicture}
        \coordinate (A) at (0, 0);
        \coordinate (B) at (6, 0);

        \coordinate (G) at (3, 0);
        \coordinate (I) at (3, 3);
        \coordinate (C) at (5, 3);
        \coordinate (D) at (2, -1.5);
        \coordinate (L) at (3, 4.5);


        \draw[very thick] (A) -- (B);
        \draw[very thick, -Latex] (D) -- (C) node[anchor=south west] {$l$};
        \node[anchor=south west] at (A) {$\pi$};

        \draw[-Latex] (G) -- (I) node[anchor=south] at (I) {$\vec n$};

        \draw pic [draw, angle radius=9mm, "$\t$"] {angle = B--G--C};
        \draw pic [draw, angle radius=11mm, "$\vf$"] {angle = C--G--L};

        \draw pic [draw, angle radius=4mm] {right angle = A--G--L};
    \end{tikzpicture}
    \caption{}
\end{figure}
\begin{proof}
    Let $\vf$ be the acute angle between $l$ and the normal $\vec n$. Then $\t = \pi/2 - \vf$, so \[\sin \t = \cos \vf = \frac{\abs{\vec b \dotp \vec n}}{\abs{\vec b} \abs{\vec n}}.\] 
\end{proof}

\subsection{Two Planes}

\begin{proposition}[Acute Angle between Two Planes]
    The acute angle $\t$ between two planes $\pi_1 : \vec r \dotp \vec n_1 = d_1$ and $\pi_2 : \vec r \dotp \vec n_2 = d_2$ is given by \[\cos \t = \frac{\abs{\vec n_1 \dotp \vec n_2}}{\abs{\vec n_1} \abs{\vec n_2}}.\]
\end{proposition}
\begin{figure}[H]\tikzsetnextfilename{337}
    \centering
    \begin{tikzpicture}
        \coordinate (A) at (0, 0);
        \coordinate (B) at (6, 0);
        \coordinate (C) at (4, -1);
        \coordinate (D) at (1, 2);
        \coordinate (E) at (3, 0);

        \coordinate (F) at (2, 1);
        \coordinate (G) at (4, 0);
        \coordinate (H) at (3, 2);
        \coordinate (I) at (4, 1);
        \coordinate (J) at (4, 3);
        \coordinate (K) at (5, 4);
        \coordinate (L) at (4, 4.5);

        \draw[very thick] (A) -- (B);
        \draw[very thick] (C) -- (D);

        \node[anchor=south west] at (A) {$\pi_1$};
        \node[anchor=west] at (C) {$\pi_2$};

        \draw[-Latex] (F) -- (H);
        \draw[-Latex] (G) -- (I);
        \draw[dotted] (H) -- (K);
        \draw[dotted] (I) -- (L);

        \node[anchor=south east] at (H) {$\vec n_2$};
        \node[anchor=west] at (I) {$\vec n_1$};

        \draw pic [draw, angle radius=9mm, "$\t$"] {angle = D--E--A};
        \draw pic [draw, angle radius=9mm, "$\t$"] {angle = K--J--L};

        \draw pic [draw, angle radius=4mm] {right angle = J--F--C};
        \draw pic [draw, angle radius=4mm] {right angle = A--G--L};
    \end{tikzpicture}
    \caption{}
\end{figure}
\begin{proof}
    From the above diagram, we see that the acute angle between the two planes is equal to the acute angle between the two normal vectors. Thus, \[\cos \t = \frac{\abs{\vec n_1 \dotp \vec n_2}}{\abs{\vec n_1} \abs{\vec n_2}}.\]
\end{proof}

\begin{fact}[Relationship between Two Planes]
    Given two distinct planes $\pi_1$ and $\pi_2$ with equations $\vec r \dotp \vec n_1 = d_1$ and $\vec r \dotp \vec n_2 = d_2$ respectively, there are two possible scenarios:
    \begin{itemize}
        \item \bd{$\pi_1$ and $\pi_2$ do not intersect.} The two planes are parallel ($\vec n_1 \parallel \vec n_2$).
        \item \bd{$\pi_1$ and $\pi_2$ intersect at a line.} The two planes are not parallel ($\vec n_1 \nparallel \vec n_2$).
    \end{itemize}
\end{fact}

In the latter scenario where the two planes are not parallel to each other, there are two methods to obtain the equation of the line of intersection.

\begin{recipe}[Via Cartesian Form]
    Write the equations of the two planes in Cartesian form and solve the two equations simultaneously.
\end{recipe}
\begin{recipe}[Via Normal Vectors]
    Let $l$ be the line of intersection of the two planes. Since $l$ lies on both planes, it is perpendicular to both normal vectors, so $l$ is parallel to their cross product, $\vec n_1 \crossp \vec n_2$. Thus, if we know a point on the line of intersection $l$ (say point $A$ with position vector $\vec a$), then the vector equation of $l$ is given by $\vec r = \vec a + \l \bp{\vec n_1 \crossp \vec n_2}$, $\l \in \RR$.
\end{recipe}