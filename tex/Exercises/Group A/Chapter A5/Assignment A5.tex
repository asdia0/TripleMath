\section{Assignment A5}

\begin{problem}
    In an auction at a charity gala dinner, a group of wealthy businessmen are competing with each other to be the highest bidder. Each time one of them makes a bid amount, another counter-bids by 50\% more, less a service charge of ten dollars (e.g. If A bids \$1000, then B will bid \$1490). Let $u_n$ be the amount at the $n$th bid and $u_1$ be the initial amount.

    \begin{enumerate}
        \item Write down a recurrence relation that describes the bidding process.
        \item Show that $u_n = \$(1.5^{n-1} (u_1 - 20) + 20)$.
        \item The target amount to be raised is \$1 234 567 and the bidding stops when the bid amount meets or crosses this target amount. Given that $u_1 = 111$,
        \begin{enumerate}
            \item state the least number of bids required to meet this amount.
            \item find the winning bid amount, correct to the nearest thousand dollars.
        \end{enumerate}
    \end{enumerate}
\end{problem}
\begin{solution}
    \begin{ppart}
        $u_{n+1} = 1.5u_n - 10$.
    \end{ppart}
    \begin{ppart}
        The complementary solution is $u_n^{(c)} = C \cdot 1.5^n$. For the particular solution, try the constant $k$. Then $k = 1.5k - 10$, so $k = 20$. Hence, the general solution is $u_n = C \cdot 1.5^n + 20$. When $n = 1$, we see that $1.5 C = u_1 - 20$, thus $u_n = 1.5^{n-1} \bp{u_1 - 20} + 20$.
    \end{ppart}
    \begin{ppart}
        \begin{psubpart}
            Let $m$ be the least integer such that $u_m \geq 1234567$. Consider $u_m = 1.5^{m-1}(111 - 20) + 20 \geq 1234567$. Using G.C., $m \geq 24.5$. Hence, it takes at least 25 bids to meet this amount.
        \end{psubpart}
        \begin{psubpart}
            Since $u_{25} = 1.5^{25-1}(111 - 20) = 1532000$ (to the nearest thousand), the winning bid is \$1 532 000.
        \end{psubpart}
    \end{ppart}
\end{solution}

\begin{problem}
    Solve these recurrence relations together with the initial conditions.

    \begin{enumerate}
        \item $u_{n+2} = -u_n + 2u_{n+1}$, for $n \geq 0$, $u_0 = 5$, $u_1 = -1$.
        \item $4u_n = 4u_{n-1} + u_{n-2}$, for $n \geq 2$, $u_0 = a$, $u_1 = b$, $a, b \in \RR$.
    \end{enumerate}
\end{problem}
\begin{solution}
    \begin{ppart}
        We may rewrite the recurrence relation as $u_{n+2} - u_{n+1} = u_{n+1} - u_n$. Thus, the sequence is in AP. Since $u_0 = 5$ and $u_1 = -1$, it follows that \[u_n = 5 - 6n.\]
    \end{ppart}
    \begin{ppart}
        Rewriting the given recurrence relation, we have $u_n = u_{n-1} + u_{n-2}/4$. Thus, the characteristic equation is $x^2 - x - 1/4 = 0$, which has roots $(1 \pm \sqrt2)/2$. Thus, \[u_n = A \bp{\frac{1 + \sqrt2}{2}}^n + B\bp{\frac{1 - \sqrt2}{2}}^n.\]

        Since $u_0 = a$, we have $A + B = a$. Since $u_1 = b$, we get \[A\bp{\frac{1 + \sqrt2}{2}} + B\bp{\frac{1 - \sqrt2}{2}} = b.\] Solving, we get \[A = \frac{\sqrt2 - 1}{2\sqrt2}a + \frac{1}{\sqrt{2}}b \quad \tand \quad B = \frac{\sqrt2 + 1}{2\sqrt2}a - \frac{1}{\sqrt{2}}b.\] Thus, \[u_n = \bp{\frac{\sqrt2 - 1}{2\sqrt2}a + \frac{1}{\sqrt{2}}b}\bp{\frac{1 + \sqrt2}{2}}^n + \bp{\frac{\sqrt2 + 1}{2\sqrt2}a - \frac{1}{\sqrt{2}}b}\bp{\frac{1 - \sqrt2}{2}}^n.\]
    \end{ppart}
\end{solution}

\begin{problem}
    A passcode is generated using the digits 1 to 5, with repetitions allowed. The passcodes are classified into two types. A Type $A$ passcode has an even number of the digit 1, while a Type $B$ passcode has an odd number of the digit 1. For example, a Type $A$ passcode is 1231, and a Type $B$ passcode is 1541213. Let $a_n$ and $b_n$ denote the number of $n$-digit Type $A$ and Type $B$ passcodes respectively.

    \begin{enumerate}
        \item State the values of $a_1$ and $a_2$.
        \item By considering the relationship between $a_n$ and $b_n$, show that for $n \geq 2$, \[a_n = xa_{n-1} + y^{n-1},\] where $x$ and $y$ are constants to be determined.
        \item Using the substitution $c_n = za_n + y^n$, where $z$ is a constant to be determined, find a first order linear recurrence relation for $c_n$. Hence, find the general term formula for $a_n$.
    \end{enumerate}
\end{problem}
\begin{solution}
    \begin{ppart}
        $a_1 = 4$, $a_2 = 17$.
    \end{ppart}
    \begin{ppart}
        Let $P$ be an $n$-digit passcode with Type $T$, where $T$ is either $A$ or $B$. Let Type $T'$ be the other type.
            
        By concatenating a digit from 1 to 5 to $P$, five $(n+1)$-digit passcodes can be created. Let $P'$ denote a new passcode that is created via this process. If the digit 1 is concatenated, then $P'$ is of Type $T'$. If the digit 1 is not concatenated, then $P'$ is of Type $T$. There are 4 choices for such a case. This hence gives the recurrence relations \[\left\{ \begin{aligned}
            a_n &= 4a_{n-1} + b_{n-1}\\
            b_n &= 4b_{n-1} + a_{n-1}
        \end{aligned}\right.\] Adding the two equations, we see that $a_n + b_n = 5(a_{n-1} + b_{n-1})$. Thus, \[a_n + b_n = 5^{n-1}(a_1 + b_1) = 5^{n-1}(4 + 1) = 5^n.\] Hence, \[a_n = 4a_{n-1} + b_{n-1} = 3a_{n-1} + a_{n-1} + b_{n-1} = 3a_{n-1} + 5^{n-1},\] whence $x = 3$ and $y = 5$.
    \end{ppart}
    \begin{ppart}
        Observe that
        \begin{align*}
            c_n &= za_n + 5^n\\
            &= z\bp{3a_{n-1} + 5^{n-1}} + 5^n\\
            &= 3\bp{za_{n-1} + 5^{n-1}} + (2 + z) 5^{n-1}\\
            &= 3c_{n-1} + (2 + z) 5^{n-1}.
        \end{align*}
        Let $z = -2$. Then, $c_n = 3c_{n-1}$ is in geometric progression, so \[c_n = 3^{n-1} c_1 = 3^{n-1} \bp{-2a_1 + 5} = -3^n.\] Since $a_n = \bp{c_n - y^n}/z$, we get \[a_n = \frac{-3^n - 5^n}{-2} = \frac{3^n + 5^n}2.\]
    \end{ppart}
\end{solution}